<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | Brian Cunnie's Technical Blog</title><meta name=keywords content><meta name=description content="Posts - Brian Cunnie's Technical Blog"><meta name=author content="Brian Cunnie"><link rel=canonical href=https://blog.nono.io/post/><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.nono.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.nono.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.nono.io/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.nono.io/apple-touch-icon.png><link rel=mask-icon href=https://blog.nono.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://blog.nono.io/post/index.xml><link rel=alternate hreflang=en href=https://blog.nono.io/post/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-0NJ11E527T"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-0NJ11E527T")}</script><meta property="og:url" content="https://blog.nono.io/post/"><meta property="og:site_name" content="Brian Cunnie's Technical Blog"><meta property="og:title" content="Posts"><meta property="og:description" content="Brian Cunnie's Technical Blog - https://github.com/cunnie/cunnie.github.io"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://nono.io/images/brian_cunnie_profile.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://nono.io/images/brian_cunnie_profile.jpg"><meta name=twitter:title content="Posts"><meta name=twitter:description content="Brian Cunnie's Technical Blog - https://github.com/cunnie/cunnie.github.io"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.nono.io/post/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.nono.io/ accesskey=h title="Brian Cunnie's Technical Blog (Alt + H)">Brian Cunnie's Technical Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://blog.nono.io/>Home</a></div><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Creating Multi-Platform Docker Images with Concourse</h2></header><div class=entry-content><p>Concourse CI/CD (continuous integration/continuous delivery) can create multi-platform Docker images. This blog post describes how.
A multi-platform docker image is one that contains “variants for different architectures”.
Docker images are often created for a single architecture (“instruction set architecture” or “ISA”), typically Intel’s/AMD’s x86-64, but with the advent of ARM64-based offerings such as AWS’s Graviton and Apple’s M1/M2, It’s becoming more common to build multi-platform images to avoid the heavy emulation performance penalty (typically >10x) when running an image on a different architecture. Multi-platform images enable a developer, for example, to run a container just as fast on their Apple M1 laptop as their GCP (Google Cloud Platform) Kubernetes cluster.
...</p></div><footer class=entry-footer><span title='2022-11-25 08:13:55 -0800 -0800'>November 25, 2022</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Brian Cunnie</footer><a class=entry-link aria-label="post link to Creating Multi-Platform Docker Images with Concourse" href=https://blog.nono.io/post/multi-platform_docker_images_with_concourse/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>How to Install a TLS Certificate on vCenter Server Appliance (VCSA) 8.0</h2></header><div class=entry-content><p>Quickstart First, create your key and your CSR (Certificate Signing Request). In the following example, we are creating a CSR for our vCenter host, “vcenter-80.nono.io”:
CN=vcenter-80.nono.io # "CN" is the abbreviation for "Common Name" openssl genrsa -out $CN.key 3072 openssl req \ -new \ -key $CN.key \ -out $CN.csr \ -sha256 \ -subj "/C=US/ST=California/L=San Francisco/O=nono.io/OU=homelab/CN=${CN}/emailAddress=brian.cunnie@gmail.com" \ -config &lt;(cat &lt;&lt;EOF [ req ] distinguished_name = req_distinguished_name req_extensions = req_ext [ req_distinguished_name ] [ req_ext ] subjectAltName = @alt_names [alt_names] DNS.1 = ${CN} EOF ) You’ll have two files, vcenter-80.nono.io.key and vcenter-80.nono.io.csr.
...</p></div><footer class=entry-footer><span title='2022-11-02 10:16:22 +0000 UTC'>November 2, 2022</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Brian Cunnie</footer><a class=entry-link aria-label="post link to How to Install a TLS Certificate on vCenter Server Appliance (VCSA) 8.0" href=https://blog.nono.io/post/vcenter_8.0_tls/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Tuning HAProxy in a vSphere Environment</h2></header><div class=entry-content><p>Network Diagram. We want to maximize the throughput from the blue box (the client) to the green box (HAProxy)
Summary We were able to push through almost 450 MB/sec through HAProxy (which terminated our SSL) by carefully matching our 4-core HAProxy with 2 x 4-core Gorouters (which were on a much slower ESXi host).
Results Bandwidth MB/second Configuration 201.27MB 1 HAProxy: 1 vCPU 136.47MB 1 HAProxy: 2 vCPUs 270.56MB 2 Gorouters: 1 vCPU 350.48MB 2 Gorouters: 2 vCPUs 447.49MB 1 HAProxy, 2 Gorouters: 4 vCPUs 0. HAProxy with 1 vCPU HAProxy had only 1 vCPU during this iteration, and the CPU was maxed to 100% during the test (according to htop). We suspect that TLS was the culprit for much of the traffic: HAProxy terminated TLS traffic inbound, and initiated TLS to the Gorouters.
...</p></div><footer class=entry-footer><span title='2022-09-10 09:33:02 -0700 -0700'>September 10, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Brian Cunnie</footer><a class=entry-link aria-label="post link to Tuning HAProxy in a vSphere Environment" href=https://blog.nono.io/post/tuning_haproxy/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>The Underground Guide to Cloud Foundry Acceptance Tests</h2></header><div class=entry-content><p>The Cloud Foundry Acceptance Tests are the gold standard to test the proper functioning of your Cloud Foundry deployment. This guide tells you how to run them. When in doubt, refer to the README.
Quick Start cd ~/workspace/ git clone git@github.com:cloudfoundry/cf-acceptance-tests.git cd cf-acceptance-tests . ./.envrc cp example-cats-config.json cats-config.json export CONFIG=cats-config.json cf api api.cf.nono.io # or whatever your Cloud Foundry's API endpoint is cf login -u admin cf create-space -o system system # don't worry if it's already created cf t -o system -s system cf enable-feature-flag diego_docker # necessary if you're running the Docker tests (`"include_docker": true`) cf enable-feature-flag service_instance_sharing # necessary if you're running the sharing tests (`"include_service_instance_sharing": true`) If you don’t have the Cloud Foundry CLI (command line interface), follow the installation instructions. Install the latest version (v8).
...</p></div><footer class=entry-footer><span title='2022-07-04 12:46:03 -0700 -0700'>July 4, 2022</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Brian Cunnie</footer><a class=entry-link aria-label="post link to The Underground Guide to Cloud Foundry Acceptance Tests" href=https://blog.nono.io/post/underground_guide_to_cf_acceptance/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Concourse CI on Kubernetes (GKE), Part 6: Concourse & Vault: Backup & Restore</h2></header><div class=entry-content><p>Recreating the Cluster We want to recreate our cluster while preserving our Vault and Concourse data (we want to recreate our GKE regional cluster as a zonal cluster to take advantage of the GKE free tier which saves us $74.40 per month).
Note: when we say, “recreate the cluster”, we really mean, “recreate the cluster”. We destroy the old cluster, including our worker nodes and persistent volumes.
Backup Vault In the following example, our storage path is /vault/data, but there’s a chance that yours is different. If it is, replace occurrences of /vault/data with your storage path:
...</p></div><footer class=entry-footer><span title='2022-01-08 04:55:18 -0800 -0800'>January 8, 2022</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Brian Cunnie</footer><a class=entry-link aria-label="post link to Concourse CI on Kubernetes (GKE), Part 6: Concourse & Vault: Backup & Restore" href=https://blog.nono.io/post/concourse_on_k8s-6/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://blog.nono.io/post/>«&nbsp;Prev&nbsp;
</a><a class=next href=https://blog.nono.io/post/page/3/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://blog.nono.io/>Brian Cunnie's Technical Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>